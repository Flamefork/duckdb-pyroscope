# name: test/sql/rusty_quack.test
# description: test rusty_quack extension
# group: [quack]

# Before we load the extension, this will fail
statement error
SELECT trace_start();
----
Catalog Error: Scalar Function with name trace_start does not exist!

# Require statement will ensure the extension is loaded from now on
require pyroscope

require icu

query I
SELECT COUNT(*) FROM duckdb_functions() WHERE function_name = 'trace_start';
----
1

query I
SELECT COUNT(*) FROM duckdb_functions() WHERE function_name = 'trace_stop';
----
1

query I
SELECT * FROM trace_stop();
----
No profiling session running

# Confirm the extension works
#query I
#SELECT * from rusty_quack('Sam');
#----
#Rusty Quack Sam üê•
